# Summary

#### 一.应用结构

```
basic/                  应用根目录
    composer.json       Composer配置文件,描述包信息
    config/             包含应用配置及其它配置
        console.php     控制台应用配置信息
        web.php         Web应用配置信息
    commands/           包含控制台命令类
    controllers/        包含控制器类
    models/             包含模型类
    runtime/            包含Yii在运行时生成的文件，例如日志和缓存文件
    vendor/             包含已经安装的Composer包，包括Yii框架自身
    views/              包含视图文件
    web/                Web应用根目录，包含Web入口文件
        assets/         包含Yii发布的资源文件(javascript和 css)
        index.php       应用入口文件
    yii                 Yii控制台命令执行脚本
```

<br>

#### 二.静态结构

![](img/1.png)

```
入口脚本：终端用户能直接访问的PHP脚本,负责启动一个请求处理周期。
应用：能全局范围内访问的对象,管理协调组件来完成请求。
应用组件：在应用中注册的对象,提供不同的功能来完成请求。
模块：包含完整MVC结构的独立包，一个应用可以由多个模块组建。
过滤器：控制器在处理请求之前或之后需要触发执行的代码。
小部件：可嵌入到视图中的对象，可包含控制器逻辑，可被不同视图重复调用。
```

<br>

#### 三.请求生命周期

![](img/2.png)

```
1.用户向入口脚本web/index.php发起请求。
2.入口脚本加载应用配置并创建一个应用实例去处理请求。
3.应用通过请求组件解析请求的路由。
4.应用创建一个控制器实例去处理请求。
5.控制器创建一个动作实例并针对操作执行过滤器。
6.如果任何一个过滤器返回失败，则动作取消。
7.如果所有过滤器都通过，动作将被执行。
8.动作会加载一个数据模型，或许是来自数据库。
9.动作会渲染一个视图，把数据模型提供给它。
10.渲染结果返回给响应组件。
11.响应组件发送渲染结果给用户浏览器。
```
